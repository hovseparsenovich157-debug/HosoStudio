:root {
  --bg: #0f0f12;
  --card: #1a1a1e;
  --accent: #ff6b35;
  --accent2: #ff8c5a;
  --text: #f0f0f0;
  --muted: #aaaaaa;
}

html { font-size: clamp(14px, 2.5vw, 16px); }
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; background: var(--bg); color: var(--text); -webkit-font-smoothing: antialiased; }

/* Telegram WebView — убираем отступы */
body.telegram-webview { padding-top: 0 !important; }

.site { display: flex; flex-direction: column; min-height: 100vh; }
.site__header { 
  padding: clamp(0.75rem, 2.5vw, 1rem) clamp(1rem, 3vw, 1.25rem); 
  display: flex; align-items: center; justify-content: space-between; 
  border-bottom: 1px solid rgba(255,255,255,0.08); flex-wrap: wrap; gap: 0.75rem;
}

.logo { 
  width: clamp(2.75rem, 8vw, 3.25rem); height: clamp(2.75rem, 8vw, 3.25rem); 
  border-radius: 0.875rem; background: linear-gradient(135deg, var(--accent), var(--accent2)); 
  display: flex; align-items: center; justify-content: center; font-weight: 800; 
  font-size: clamp(1.125rem, 4vw, 1.375rem); color: white; box-shadow: 0 0.75rem 2rem rgba(0,0,0,0.25);
}

.brand-text .name { font-size: clamp(1.125rem, 4vw, 1.375rem); font-weight: 700; font-family: 'Playfair Display', serif; }
.brand-text .role { font-size: clamp(0.75rem, 2vw, 0.8125rem); color: var(--muted); margin-top: 0.125rem; }

#addPlayerBtn { 
  padding: clamp(0.5rem, 1.8vw, 0.625rem) clamp(0.875rem, 2.5vw, 1.125rem); 
  border-radius: 0.75rem; background: linear-gradient(135deg, var(--accent), var(--accent2)); 
  color: white; font-weight: 600; font-size: clamp(0.875rem, 2.2vw, 1rem); 
  border: none; cursor: pointer; white-space: nowrap; transition: transform 0.2s ease;
}
#addPlayerBtn:hover { transform: translateY(-0.125rem); }

.container { flex: 1; padding: clamp(0.75rem, 2.5vw, 1.25rem) clamp(0.75rem, 2vw, 1rem); overflow-y: auto; -webkit-overflow-scrolling: touch; }
.players-list { display: flex; flex-direction: column; gap: clamp(1rem, 3vw, 1.5rem); width: 100%; max-width: 87.5rem; margin: 0 auto; }

.player { 
  position: relative; background: var(--card); border-radius: clamp(0.75rem, 2vw, 1.125rem); 
  overflow: hidden; box-shadow: 0 0.75rem 2rem rgba(0,0,0,0.25); 
  display: grid; grid-template-columns: 1fr minmax(17.5rem, 21.25rem); 
  gap: clamp(1rem, 2.5vw, 1.5rem); min-height: clamp(25rem, 65vh, 32.5rem);
}

.btn-remove-player { 
  position: absolute; top: clamp(0.75rem, 2vw, 1rem); right: clamp(0.75rem, 2vw, 1rem); 
  z-index: 10; width: clamp(2rem, 6vw, 2.25rem); height: clamp(2rem, 6vw, 2.25rem); 
  border-radius: 50%; background: rgba(255,255,255,0.15); border: none; 
  display: flex; align-items: center; justify-content: center; cursor: pointer; 
  transition: all 0.2s ease; backdrop-filter: blur(0.625rem);
}
.btn-remove-player:hover { background: #ff4444; transform: scale(1.1) rotate(90deg); }
.btn-remove-player::before, .btn-remove-player::after { 
  content: ''; position: absolute; width: 60%; height: 0.125rem; background: white; border-radius: 0.0625rem; 
}
.btn-remove-player::before { transform: rotate(45deg); }
.btn-remove-player::after { transform: rotate(-45deg); }

.player__media { display: flex; flex-direction: column; gap: 0.75rem; }
.media-wrap { position: relative; background: #000; border-radius: 1rem; overflow: hidden; flex: 1; }
.video-element, .iframe-wrapper iframe { position: absolute; inset: 0; width: 100%; height: 100%; }
.poster-overlay { 
  position: absolute; inset: 0; display: flex; align-items: center; justify-content: center; 
  background: rgba(0,0,0,0.6); color: white; font-size: clamp(1rem, 3vw, 1.125rem); 
  font-weight: 600; border-radius: 1rem;
}

.player__controls { 
  display: flex; align-items: center; justify-content: center; 
  gap: clamp(0.375rem, 1.5vw, 0.625rem); padding: 0 clamp(0.75rem, 2vw, 1rem);
}
.icon-btn { 
  width: clamp(2.25rem, 7vw, 2.75rem); height: clamp(2.25rem, 7vw, 2.75rem); 
  border-radius: 50%; background: rgba(255,255,255,0.1); border: none; 
  display: flex; align-items: center; justify-content: center; cursor: pointer; 
  transition: all 0.2s ease; backdrop-filter: blur(0.625rem); position: relative; font-size: 0;
}
.icon-btn:hover { background: rgba(255,255,255,0.2); transform: scale(1.05); }
.icon-btn.active { background: var(--accent); }

.btn-prev::before { content: ''; position: absolute; width: 0.5rem; height: 0.5rem; border-left: 0.125rem solid white; border-bottom: 0.125rem solid white; transform: rotate(45deg); margin-left: -0.1875rem; }
.btn-next::before { content: ''; position: absolute; width: 0.5rem; height: 0.5rem; border-right: 0.125rem solid white; border-top: 0.125rem solid white; transform: rotate(45deg); margin-left: -0.3125rem; }
.btn-playpause::before { content: ''; position: absolute; border: 0.5rem solid transparent; border-left: 0.75rem solid white; border-right: 0; margin-left: 0.125rem; }
.btn-playpause.paused::before { content: ''; width: 0.25rem; height: 0.75rem; background: white; border-radius: 0.0625rem; box-shadow: -0.375rem 0 0 white; }
.btn-loop::before, .btn-loop::after { content: ''; position: absolute; width: 0.625rem; height: 0.375rem; border: 0.125rem solid white; border-radius: 0.375rem 0.375rem 0 0; }
.btn-loop::after { transform: rotate(180deg); margin-left: -0.25rem; margin-top: -0.125rem; width: 0.375rem; height: 0.375rem; border-radius: 50%; background: white; }
.btn-fullscreen::before { content: ''; position: absolute; width: 0.75rem; height: 0.75rem; border: 0.125rem solid white; }
.btn-fullscreen::after { content: ''; position: absolute; width: 0.375rem; height: 0.375rem; border: 0.125rem solid var(--bg); }

.progress-bar { display: flex; align-items: center; gap: 0.5rem; padding: 0 clamp(0.75rem, 2vw, 1rem) clamp(0.5rem, 1.5vw, 0.75rem); }
.progress { flex: 1; height: 0.375rem; background: rgba(255,255,255,0.2); border-radius: 0.375rem; -webkit-appearance: none; appearance: none; }
.progress::-webkit-slider-thumb { -webkit-appearance: none; width: 1rem; height: 1rem; border-radius: 50%; background: var(--accent); cursor: pointer; }
.progress::-moz-range-thumb { width: 1rem; height: 1rem; border-radius: 50%; background: var(--accent); cursor: pointer; border: none; }
.time { font-size: clamp(0.75rem, 2vw, 0.875rem); color: var(--muted); min-width: 5rem; text-align: right; }

.player__sidebar { 
  padding: clamp(1rem, 2.5vw, 1.25rem); display: flex; flex-direction: column; 
  gap: 0.75rem; background: rgba(0,0,0,0.2); border-radius: 1rem;
}
.addVideoForm { display: flex; flex-direction: column; gap: 0.625rem; }
.input { 
  padding: clamp(0.75rem, 2vw, 0.875rem) clamp(0.75rem, 2vw, 1rem); 
  border-radius: 0.75rem; border: 1px solid rgba(255,255,255,0.15); 
  background: rgba(255,255,255,0.05); color: var(--text); 
  font-size: clamp(0.875rem, 2.2vw, 0.9375rem); backdrop-filter: blur(0.625rem);
  word-break: break-all;
}
.input::placeholder { color: var(--muted); font-size: clamp(0.75rem, 1.8vw, 0.8125rem); }
.input:focus { outline: none; border-color: var(--accent); }

.gallery-btn, .btn--accent { 
  padding: clamp(0.75rem, 2vw, 0.875rem); border-radius: 0.75rem; 
  font-weight: 600; font-size: clamp(0.875rem, 2.2vw, 0.9375rem); 
  display: flex; align-items: center; justify-content: center; gap: 0.5rem; 
  cursor: pointer; transition: all 0.2s ease; border: none;
}
.gallery-btn { background: var(--accent); color: white; }
.gallery-btn:hover { transform: translateY(-0.125rem); box-shadow: 0 0.5rem 1.25rem rgba(255,107,53,0.3); }
.btn--accent { background: linear-gradient(135deg, var(--accent), var(--accent2)); color: white; }
.btn--accent:hover { transform: scale(1.02); }

.playlist-title { font-size: clamp(0.875rem, 2.5vw, 1rem); font-weight: 700; margin-bottom: 0.5rem; color: var(--text); }
.playlist-list { 
  list-style: none; flex: 1; overflow-y: auto; display: flex; flex-direction: column; 
  gap: 0.375rem; padding-right: 0.25rem; max-height: clamp(12.5rem, 40vh, 18.75rem);
}
.playlist-list::-webkit-scrollbar { width: 0.375rem; }
.playlist-list::-webkit-scrollbar-track { background: transparent; }
.playlist-list::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 0.375rem; }
.playlist-item { 
  padding: clamp(0.625rem, 1.8vw, 0.75rem) clamp(0.625rem, 1.8vw, 0.875rem); 
  border-radius: 0.75rem; background: rgba(255,255,255,0.06); cursor: pointer; 
  transition: all 0.2s ease; display: flex; align-items: center; gap: 0.5rem;
}
.playlist-item:hover { background: rgba(255,255,255,0.12); transform: translateX(0.25rem); }
.playlist-item.active { background: var(--accent); color: white; }
.pi-title { font-weight: 600; flex: 1; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-size: clamp(0.75rem, 2vw, 0.875rem); }
.playlist-actions { display: flex; gap: 0.5rem; margin-top: 0.5rem; }
.btn--ghost { 
  background: transparent; color: var(--muted); font-size: clamp(0.75rem, 2vw, 0.8125rem); 
  padding: 0.375rem 0.625rem; border-radius: 0.5rem; border: 1px solid rgba(255,255,255,0.15); cursor: pointer;
}
.btn--ghost:hover { background: rgba(255,255,255,0.1); }

@media (max-width: 1024px) { .player { grid-template-columns: 1fr; min-height: auto; } .player__sidebar { border-radius: 0 0 clamp(0.75rem, 2vw, 1.125rem) clamp(0.75rem, 2vw, 1.125rem); } }
@media (max-width: 768px) { .site__header { flex-direction: column; text-align: center; } #addPlayerBtn { width: 100%; } }
@media (max-width: 480px) { .player__controls { gap: 0.375rem; } .icon-btn { width: 2.25rem; height: 2.25rem; } }